<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link rel="shortcut icon" href="imagens/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="style.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
	<title>Gamelet</title>
</head>

<body class="text-white" style="background-color: #10101D;">
	<!-- Adicinando NavBar com API -->
	<div id="header"></div>

	<script>
		fetch('header.html')
			.then(response => response.text())
			.then(data => {
				document.getElementById('header').innerHTML = data;
			});
	</script>

	<main>
		<h1 id="lancamentos" class="text-center my-4">
			Lançamentos
		</h1>

		<div id="EditandoCarrossel" class="container mb-5">
			<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
				<div class="carousel-indicators">
					<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
						aria-current="true" aria-label="Slide 1"></button>
					<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
						aria-label="Slide 2"></button>
					<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
						aria-label="Slide 3"></button>
				</div>
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img src="#" class="d-block w-100" alt="Jogo 1">
					</div>
					<div class="carousel-item">
						<img src="#" class="d-block w-100" alt="Jogo 2">
					</div>
					<div class="carousel-item">
						<img src="#" class="d-block w-100" alt="Jogo 3">
					</div>
				</div>
				<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
					data-bs-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="visually-hidden">Anterior</span>
				</button>
				<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
					data-bs-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="visually-hidden">Próximo</span>
				</button>
			</div>
		</div>

		<div class="lista-jogos container">
			<h2 class="text-center mb-4 text-uppercase"
				style="font-family: 'Open Sans', sans-serif; letter-spacing: 0.1em;">
				Jogos
			</h2>
			<div class="linha-de-cards d-flex flex-wrap justify-content-center gap-4">
			</div>

			<script>
			fetch('/sua-app/api/jogos') // ajuste "sua-app" para o contexto real da sua aplicação
			.then(response => response.json())
			.then(jogos => {
				const container = document.querySelector('.linha-de-cards');
				container.innerHTML = ''; // limpa os cards fixos

			jogos.forEach(jogo => {
				const card = document.createElement('div');
				card.className = 'card';
				card.style.width = '18rem';
				card.style.cursor = 'pointer';
				card.onclick = () => {
					window.location.href = `VerMais.html?id=${jogo.id}`;
				};

				card.innerHTML = `
					<img src="imagens/${jogo.nomeImagem}" class="card-img-top" alt="${jogo.titulo}">
					<div class="card-body">
						<h5 class="card-title">${jogo.titulo}</h5>
						<p class="card-text">R$ ${jogo.preco.toFixed(2)}</p>
					</div>
				`;

				container.appendChild(card);
			});
		})
		.catch(error => {
			console.error('Erro ao carregar jogos:', error);
		});
</script>

			
		</div>
	</main>

	<div id="footer"></div>

	<script>
		fetch('footer.html')
			.then(response => response.text())
			.then(data => {
				document.getElementById('footer').innerHTML = data;
			});
	</script>


</body>

</html>